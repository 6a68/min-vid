<!DOCTYPE html>
<!-- This Source Code is subject to the terms of the Mozilla Public License
     version 2.0 (the 'License'). You can obtain a copy of the License at
     http://mozilla.org/MPL/2.0/.
  -->
<html hidechrome="true">
  <head>
    <meta charset="utf-8">
    <title>MIN VID PANEL</title>
    <link rel="stylesheet" href="panel.css" type="text/css" media="screen" />

    <!-- uncomment for manual testing of ui in browser without addon reload loop -->
    <!-- <style> -->
    <!--   #container { -->
    <!--     width: 320px !important; -->
    <!--     height: 180px !important; -->
    <!--     border: 1px solid pink; -->
    <!--   } -->
    <!-- </style> -->
  </head>
  <body>
    <div id="container"></div>
    <script>
     // from youtube.com/iframe_api
     if (!window['YT']) {
       var YT = {
         loading: 0,
         loaded: 0
       };
     }
     if (!window['YTConfig']) {
       var YTConfig = {
         'host': 'http://www.youtube.com'
       };
     }
     if (!YT.loading) {
       YT.loading = 1;
       (function() {
         var l = [];
         YT.ready = function(f) {
           if (YT.loaded) {
             f();
           } else {
             l.push(f);
           }
         };
         window.onYTReady = function() {
           YT.loaded = 1;
           for (var i = 0; i < l.length; i++) {
             try {
               l[i]();
             } catch (e) {}
           }
         };
         YT.setConfig = function(c) {
           for (var k in c) {
             if (c.hasOwnProperty(k)) {
               YTConfig[k] = c[k];
             }
           }
         };
         var a = document.createElement('script');
         a.type = 'text/javascript';
         a.id = 'www-widgetapi-script';
         a.src = 'www-widgetapi.js';
         a.async = true;
         var b = document.getElementsByTagName('script')[0];
         b.parentNode.insertBefore(a, b);
       })();
     }
    </script>
    <script src="bundle.js"></script>
    <script>
      // example communication thing
      window.communicate = (text) => {
        console.log('popup received text from opener: ', text);
      }
      setTimeout(() => {
        window.AppData = Object.assign(window.AppData, {
          domain: 'youtube.com',
          id: 'V9-ltPsbw9g',
          src: 'https://www.youtube.com/embed/V9-ltPsbw9g/?autoplay=0&modestbranding=1&controls=0&disablekb=0&enablejsapi=1&fs=0&iv_load_policy=3&loop=0&rel=0&showinfo=0&start=0',
        });
      }, 1000);
    </script>
  </body>
</html>
